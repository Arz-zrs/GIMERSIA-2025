[gd_scene load_steps=18 format=4 uid="uid://c03yw85t8qyf2"]

[ext_resource type="Script" uid="uid://bcfxfsqcjn5js" path="res://Scripts/4_Sytems/Stages/stage_1.gd" id="1_a3nje"]
[ext_resource type="Resource" uid="uid://b27arfdlt8vbj" path="res://Resources/BeatMap/stage_1_beat_map.tres" id="2_2j2vi"]
[ext_resource type="Texture2D" uid="uid://b4or30hio36fm" path="res://Assets/UI/background_3.png" id="3_tecur"]
[ext_resource type="TileSet" uid="uid://buud1shxc1yr2" path="res://Assets/Tileset/pyramid_tileset.tres" id="5_igpd1"]
[ext_resource type="PackedScene" uid="uid://bkd2van6gammi" path="res://Scenes/Entity/Player.tscn" id="6_frccm"]
[ext_resource type="Script" uid="uid://btub6qvcv4npx" path="res://Scripts/0_Templates/state_machine.gd" id="7_cb02f"]
[ext_resource type="Script" uid="uid://btdyr5fij8mdv" path="res://Scripts/2_State/Stage/ready.gd" id="8_ds810"]
[ext_resource type="Script" uid="uid://cf0fhq4jg7n28" path="res://Scripts/2_State/Stage/playing.gd" id="9_l3o1j"]
[ext_resource type="Script" uid="uid://dpgsgkseg6256" path="res://Scripts/2_State/Stage/level_cleared.gd" id="10_0ufau"]
[ext_resource type="Script" uid="uid://daxnu8a1uxkjv" path="res://Scripts/2_State/Stage/game_over.gd" id="11_sujac"]
[ext_resource type="PackedScene" uid="uid://bhg2ek4b2v330" path="res://Scenes/Rythm/rythm_ui.tscn" id="12_22sso"]
[ext_resource type="PackedScene" uid="uid://067ld416cqg2" path="res://Scenes/Rythm/rythm_note.tscn" id="13_euq63"]
[ext_resource type="PackedScene" uid="uid://bodfdnmi8mavi" path="res://Scenes/Entity/abe_enemy.tscn" id="14_nfpxi"]
[ext_resource type="PackedScene" uid="uid://dlefw2di5wvbd" path="res://Scenes/user_interface/level_cleared_menu.tscn" id="16_q05fk"]
[ext_resource type="PackedScene" uid="uid://b8p53gfj0k65k" path="res://Scenes/user_interface/game_over_menu.tscn" id="17_2fsv8"]
[ext_resource type="PackedScene" uid="uid://c4h7s8wpriilm" path="res://Scenes/user_interface/paused_menu.tscn" id="18_6c63l"]
[ext_resource type="PackedScene" uid="uid://onb5x76uqfsx" path="res://Scenes/Rythm/conductor.tscn" id="19_56f2l"]

[node name="Stage1" type="Node2D" node_paths=PackedStringArray("tilemap_layer", "player", "level_cleared_menu", "game_over_menu", "rythim_manager", "conductor")]
script = ExtResource("1_a3nje")
_spawn_pos = Vector2(4, 8)
tilemap_layer = NodePath("TileMapLayer")
player = NodePath("Player")
level_cleared_menu = NodePath("LevelClearedMenu")
game_over_menu = NodePath("GameOverMenu")
rythim_manager = NodePath("RythmManager")
conductor = NodePath("Conductor")
beat_map = ExtResource("2_2j2vi")
target_cleared_cube = 46

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 1282.0
offset_bottom = 718.0

[node name="TextureRect" type="TextureRect" parent="Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -678.0
offset_top = -750.0
offset_right = 650.0
offset_bottom = 946.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_tecur")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD2/w8ABgAAAAAAAAD3/w0ABgAAAAAAAAD3/xAABgAAAAAAAAD4/w4ABgAAAAAAAAD4/xEABgAAAAAAAAD5/wwABgAAAAAAAAD5/w8ABgAAAAAAAAD5/xIABgAAAAAAAAD6/w0ABgAAAAAAAAD6/xAABgAAAAAAAAD6/xMABgAAAAAAAAD7/wsABgAAAAAAAAD7/w4ABgAAAAAAAAD7/xEABgAAAAAAAAD7/xQABgAAAAAAAAD8/wwABgAAAAAAAAD8/xIABgAAAAAAAAD8/xUABgAAAAAAAAD9/woABgAAAAAAAAD9/w0ABgAAAAAAAAD9/xMABgAAAAAAAAD9/xYABgAAAAAAAAD+/wsABgAAAAAAAAD+/w4ABgAAAAAAAAD+/xEABgAAAAAAAAD+/xQABgAAAAAAAAD//wkABgAAAAAAAAD//wwABgAAAAAAAAD//w8ABgAAAAAAAAD//xIABgAAAAAAAAD//xUABgAAAAAAAAAAAAoABgAAAAAAAAAAAA0ABgAAAAAAAAAAABAABgAAAAAAAAAAABMABgAAAAAAAAABAAgABgAAAAAAAAABAAsABgAAAAAAAAABAA4ABgAAAAAAAAABABEABgAAAAAAAAACAAkABgAAAAAAAAACAAwABgAAAAAAAAACAA8ABgAAAAAAAAADAAcABgAAAAAAAAADAAoABgAAAAAAAAADAA0ABgAAAAAAAAAEAAsABgAAAAAAAAAFAAkABgAAAAAAAAAEAAgABgAAAAEAAAA=")
tile_set = ExtResource("5_igpd1")

[node name="Player" parent="." node_paths=PackedStringArray("world", "conductor") instance=ExtResource("6_frccm")]
z_index = 1
position = Vector2(648, 123)
world = NodePath("..")
conductor = NodePath("../Conductor")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("7_cb02f")
initial_state = NodePath("Ready")

[node name="Ready" type="Node" parent="StateMachine"]
script = ExtResource("8_ds810")

[node name="Playing" type="Node" parent="StateMachine"]
script = ExtResource("9_l3o1j")

[node name="LevelCleared" type="Node" parent="StateMachine"]
script = ExtResource("10_0ufau")

[node name="GameOver" type="Node" parent="StateMachine"]
script = ExtResource("11_sujac")

[node name="RythmManager" parent="." node_paths=PackedStringArray("conductor", "player") instance=ExtResource("12_22sso")]
conductor = NodePath("../Conductor")
player = NodePath("../Player")
note_scene = ExtResource("13_euq63")

[node name="AbeEnemy3" parent="." node_paths=PackedStringArray("world") groups=["Enemies"] instance=ExtResource("14_nfpxi")]
position = Vector2(847, 559)
world = NodePath("..")
target_move_counter = 2

[node name="AbeEnemy2" parent="." node_paths=PackedStringArray("world") groups=["Enemies"] instance=ExtResource("14_nfpxi")]
position = Vector2(347, 410)
world = NodePath("..")
target_move_counter = 2

[node name="LevelClearedMenu" parent="." instance=ExtResource("16_q05fk")]

[node name="GameOverMenu" parent="." instance=ExtResource("17_2fsv8")]

[node name="PausedMenu" parent="." instance=ExtResource("18_6c63l")]

[node name="Conductor" parent="." node_paths=PackedStringArray("player") instance=ExtResource("19_56f2l")]
player = NodePath("../Player")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(651, 357)
